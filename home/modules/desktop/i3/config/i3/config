# This file has been auto-generated by i3-config-wizard(1).
# It will not be overwritten, so edit it as you like.
#
# Should you change your keyboard layout some time, delete
# this file and re-run i3-config-wizard(1).
#

# i3 config file (v4)
#
# Please see https://i3wm.org/docs/userguide.html for a complete reference!

set $mod Mod4
set $alt Mod1
set $show_tray Mod1+Mod4

set $transparent #00000001 #idk why but it doesn't work with a  transparency of 0

# start a terminal
bindsym $mod+Return exec alacritty

bindsym $mod+space exec --no-startup-id rofi -show drun -modi drun
bindsym $mod+w exec --no-startup-id rofi -show window -modi window
bindsym $mod+x exec --no-startup-id rofi -show combi -modi combi
bindsym $mod+c exec --no-startup-id rofi -show calc -modi calc -no-show-match -no-sort -calc-command "echo {result}" | xclip -selection clipboard
bindsym $mod+p exec --no-startup-id rofi -show p:rofi-power-menu
bindsym $mod+semicolon exec --no-startup-id rofi -show emoji -modi emoji -emoji-format "{emoji}: {name}"

#start snipping tool
bindsym $mod+Shift+s exec --no-startup-id flameshot gui

# Doom everywhere
bindsym $mod+d exec --no-startup-id emacsclient --eval "(emacs-everywhere)"

# Notifications
bindsym $alt+space exec dunstctl close
bindsym $alt+shift+space exec dunstctl close-all
bindsym $alt+. exec dunstctl history
bindsym $alt+shift+. exec dunstctl context
bindsym $mod+$alt+r exec systemctl --user restart polybar.service

# Use pactl to adjust volume in PulseAudio.
bindsym XF86AudioRaiseVolume exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ +10%
bindsym XF86AudioLowerVolume exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ -10%
bindsym XF86AudioMute exec --no-startup-id pactl set-sink-mute @DEFAULT_SINK@ toggle
bindsym XF86AudioMicMute exec --no-startup-id pactl set-source-mute @DEFAULT_SOURCE@ toggle

# Sreen brightness controls
bindsym XF86MonBrightnessUp exec brightnessctl set +10% # increase screen brightness
bindsym XF86MonBrightnessDown exec brightnessctl set 10%- # decrease screen brightness

# Media player controls
bindsym XF86AudioPlay exec playerctl play-pause
bindsym XF86AudioPause exec playerctl play-pause
bindsym XF86AudioNext exec playerctl next
bindsym XF86AudioPrev exec playerctl previous

# enter fullscreen mode for the focused container
bindsym $mod+f fullscreen toggle

# change container layout (stacked, tabbed, toggle split)
bindsym $mod+t layout tabbed

# toggle tiling / floating
bindsym $mod+Shift+f floating toggle

# change focus between tiling / floating windows
bindsym $mod+Shift+d focus mode_toggle

bar {
    id bar-tray
    i3bar_command i3bar --transparency
    colors {
        background $transparent
    }
    position bottom
    tray_padding 0
    tray_output primary
    workspace_buttons no
    mode hide
    hidden_state hide
    modifier $show_tray
}


# Remove border
default_border none
default_floating_border none
#Per app fix for notif, floating and others
for_window [title="Microsoft Teams Notification"] floating enable
no_focus [title="Microsoft Teams Notification"]

# Plasma friendly
for_window [title="Desktop â€” Plasma"] kill; floating enable; border none
for_window [class="plasmashell"] floating enable;
for_window [class="Plasma"] floating enable; border none
for_window [title="plasma-desktop"] floating enable; border none
for_window [title="win7"] floating enable; border none
for_window [class="krunner"] floating enable; border none
for_window [class="Kmix"] floating enable; border none
for_window [class="Klipper"] floating enable; border none
for_window [class="Plasmoidviewer"] floating enable; border none
for_window [class="(?i)*nextcloud*"] floating disable
for_window [class="plasmashell" window_type="notification"] floating enable, border none, move right 700px, move down 450px
no_focus [class="plasmashell" window_type="notification"]

# Steam friendly
for_window[class="Steam"] floating enable
for_window[class="Steam" title="^Steam$"] floating disable
# Other stuff
for_window [class="^Pavucontrol$"] floating enable

#exec at startup
# Setup screens
exec --no-startup-id autorandr -c
exec --no-startup-id systemctl --user restart polybar
