directives:
  child-src:
    - "'self'"
  connect-src:
    - "'self'"
    - "blob:"
    - "https://${COMPANION_DOMAIN|companion.opencloud.xgroleau.com}/"
    - "wss://${COMPANION_DOMAIN|companion.opencloud.xgroleau.com}/"
    - "https://raw.githubusercontent.com/opencloud-eu/awesome-apps/"
    - "https://raw.githubusercontent.com/opencloud-eu/awesome/"
    - "https://${OIDC_DOMAIN|authentik.xgroleau.com}/"
  default-src:
    - "'none'"
  font-src:
    - "'self'"
  frame-ancestors:
    - "'self'"
  frame-src:
    - "'self'"
    - "blob:"
    - "https://embed.diagrams.net/"
    - "https://docs.opencloud.eu"
    - "https://${COLLABORA_DOMAIN|collabora.opencloud.xgroleau.com}/"
    # This is needed for the external-sites web extension when embedding sites
    - "https://docs.opencloud.eu"
  img-src:
    - "'self'"
    - "data:"
    - "blob:"
    - "https://raw.githubusercontent.com/opencloud-eu/awesome-apps/"
    - "https://raw.githubusercontent.com/opencloud-eu/awesome/"
    # In contrary to bash and docker the default is given after the | character
    - "https://${COLLABORA_DOMAIN|collabora.opencloud.xgroleau.com}/"
  manifest-src:
    - "'self'"
  media-src:
    - "'self'"
  object-src:
    - "'self'"
    - "blob:"
  script-src:
    - "'self'"
    - "'unsafe-inline'"
    - "'unsafe-eval'" # Needed by FF it seems
    - "https://${OIDC_DOMAIN|authentik.xgroleau.com}/"
  style-src:
    - "'self'"
    - "'unsafe-inline'"
